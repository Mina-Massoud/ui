---
title: Rich Editor
description: A powerful, block-based rich text editor with tables, images, formatting, and mobile-optimized UX.
component: true
---

<ComponentPreview
  name="rich-editor-demo"
  description="A comprehensive block-based rich text editor with demo content"
/>

## Installation

<Steps>

<Step>Install the rich-editor component with all dependencies:</Step>

```bash
npx shadcn@latest add https://ui-v4-livid.vercel.app/r/styles/new-york-v4/rich-editor.json
```

This automatically installs:

- All required shadcn components (button, card, dialog, popover, etc.)
- All npm packages (framer-motion, lucide-react, sonner, next-themes, color, etc.)
- All editor files including hooks and utilities

<Step>Configure the theme provider:</Step>

The rich editor includes dark mode toggle functionality. To make it work, you need to wrap your app with the `ThemeProvider` from `next-themes`.

See [Dark Mode Setup](/docs/dark-mode/next) for detailed instructions on configuring the theme provider.

</Steps>

## Usage

```tsx showLineNumbers
import { EditorProvider } from "@/components/ui/rich-editor"
import type { ContainerNode } from "@/components/ui/rich-editor"
import { Editor } from "@/components/ui/rich-editor/editor"

  const handleImageUpload = async (file: File): Promise<string> => {
    // Simulate upload delay (1000ms)
    await new Promise((resolve) => setTimeout(resolve, 1000));

    // In production, you would:
    // 1. Upload to your backend API
    // 2. Return the permanent URL
    // Example:
    // const formData = new FormData();
    // formData.append('image', file);
    // const response = await fetch('/api/upload', {
    //   method: 'POST',
    //   body: formData
    // });
    // const data = await response.json();
    // return data.url;

    // For demo purposes, return a data URL
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result as string);
      reader.onerror = reject;
      reader.readAsDataURL(file);
    });
  };

export default function MyEditor() {
  return (
    <EditorProvider>
        <Editor onUploadImage={handleImageUpload} />
    </EditorProvider>
  )
}
```

## Features

- ‚ú® **Block-based architecture** - Drag & drop blocks with intuitive organization
- üìù **Rich text formatting** - Bold, italic, underline, strikethrough, colors, and font sizes
- üìä **Advanced tables** - Drag columns/rows, resize, markdown import, and cell formatting
- üñºÔ∏è **Image management** - Multi-select with Ctrl+Click, drag & drop, custom upload handlers
- üé® **Custom Tailwind classes** - Built-in class picker with live preview
- üîó **Smart links** - Easy link insertion with automatic protocol handling
- ‚å®Ô∏è **Keyboard shortcuts** - Full keyboard navigation and formatting shortcuts
- üì± **Mobile optimized** - Sheet drawers, touch-friendly controls, automatic keyboard management
- üåô **Dark mode** - Full dark mode support out of the box
- üîÑ **Undo/Redo** - Complete history management with Ctrl+Z/Ctrl+Y
- üì§ **HTML export** - Export your content to clean HTML

## Examples

### Read-Only Mode

<ComponentPreview name="rich-editor-readonly-demo" />

### Custom Upload Handler

<ComponentPreview name="rich-editor-custom-upload-demo" />

## API Reference

### EditorProvider

Wraps your editor and provides the context for all editor operations.

| Prop               | Type            | Default | Description                                  |
| ------------------ | --------------- | ------- | -------------------------------------------- |
| `initialContainer` | `ContainerNode` | -       | The initial content structure for the editor |
| `debug`            | `boolean`       | `false` | Show debug panel with state information      |
| `children`         | `ReactNode`     | -       | Editor components to render                  |

### Editor

The main editor component that renders the editing interface.

| Prop            | Type                              | Default | Description                                                              |
| --------------- | --------------------------------- | ------- | ------------------------------------------------------------------------ |
| `readOnly`      | `boolean`                         | `false` | Enable read-only mode (disables editing)                                 |
| `onUploadImage` | `(file: File) => Promise<string>` | -       | Custom image upload handler. Should return the URL of the uploaded image |

### ContainerNode

The root node type for editor content.

```tsx
interface ContainerNode {
  id: string
  type: "container"
  children: EditorNode[]
  attributes: Record<string, any>
}
```

### EditorNode

Editor nodes can be text blocks, images, tables, flex containers, or nested containers.

```tsx
type EditorNode =
  | TextNode
  | ImageNode
  | TableNode
  | FlexContainerNode
  | ContainerNode
```

## Keyboard Shortcuts

| Shortcut               | Action                 |
| ---------------------- | ---------------------- |
| `Ctrl/Cmd + B`         | Toggle bold            |
| `Ctrl/Cmd + I`         | Toggle italic          |
| `Ctrl/Cmd + U`         | Toggle underline       |
| `Ctrl/Cmd + Z`         | Undo                   |
| `Ctrl/Cmd + Shift + Z` | Redo                   |
| `Shift + Enter`        | Create nested block    |
| `Ctrl/Cmd + K`         | Insert link            |
| `Ctrl + Click`         | Multi-select images    |
| `Delete/Backspace`     | Delete selected blocks |

## Block Types

The editor supports the following block types:

- **Text Block** - Paragraph, heading, list item with rich formatting
- **Image Block** - Single or grouped images with captions
- **Table Block** - Full-featured tables with drag, resize, and formatting
- **Flex Container** - Layout container for side-by-side content
- **Nested Container** - Nested blocks for hierarchical content

## Customization

### Custom Image Upload

Provide your own upload handler to integrate with your backend:

```tsx showLineNumbers
async function handleUpload(file: File): Promise<string> {
  const formData = new FormData()
  formData.append("image", file)

  const response = await fetch("/api/upload", {
    method: "POST",
    body: formData,
  })

  const data = await response.json()
  return data.url
}

;<Editor onUploadImage={handleUpload} />
```

### Accessing Editor State

Access the editor state and actions through the context:

```tsx showLineNumbers
import { useEditor } from "@/components/ui/rich-editor"

function MyComponent() {
  const { state, dispatch } = useEditor()

  // Access current content
  console.log(state.container)

  // Dispatch actions
  dispatch({ type: "ADD_BLOCK", payload: { ... } })
}
```

### Export to HTML

Export your content to HTML for storage or display:

```tsx showLineNumbers
import { serializeToHTML } from "@/components/ui/rich-editor/utils/serialize-to-html"

const html = serializeToHTML(state.container)
```

## Notes

- The editor uses **Framer Motion** for animations. Make sure it's installed.
- Images are stored as **base64** by default. Provide a custom upload handler for production use.
- The editor is **mobile-responsive** and uses Sheet components on smaller screens.
- All colors and classes use **Tailwind CSS** and follow shadcn/ui design patterns.

## Credits

Created by **Mina Massoud**

- üîó [Portfolio](https://mina-massoud.com/)
- ‚≠ê [GitHub](https://github.com/Mina-Massoud)
